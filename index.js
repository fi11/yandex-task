(function(e){var t={NOT_RESOLVED:0,IN_RESOLVING:1,RESOLVED:2},n={trackCircularDependencies:!0},r,i={},s=[],o=!1,u=[],a=function(e,n,o){o||(o=n,n=[]);var u=i[e]||(i[e]={name:e,decl:r});s.push(u.decl={name:e,fn:o,state:t.NOT_RESOLVED,deps:n,prevDecl:u.decl,dependOnDecls:[],dependents:[],exports:r})},f=function(e,t){o||(o=!0,N(c)),u.push({modules:e,cb:t})},l=function(e){return!!i[e]},c=function(){o=!1,h(),p()},h=function(){var e=0,t,n,o,u;while(t=s[e++]){n=0,u=t.dependOnDecls;while(o=t.deps[n++]){if(!l(o)){S(o,t);break}u.push(i[o].decl)}t.prevDecl&&(u.push(t.prevDecl),t.prevDecl=r)}s=[]},p=function(){var e=u,t,n=0,r,s,o,a;u=[];while(t=e[n++]){r=0,o=[],a=!0;while(s=t.modules[r++]){if(!l(s)){S(s),a=!1;break}o.push(i[s].decl)}a&&d(o,t.cb)}},d=function(t,n){v(t,function(t){n.apply(e,t)},[])},v=function(e,r,i){var s=e.length,o=!0;if(s){var u=function(){--s||m(e,r)},a=0,f;while(f=e[a++])f.state===t.RESOLVED?--s:(n.trackCircularDependencies&&b(f,i)&&x(f,i),f.state===t.NOT_RESOLVED&&g(f,i),f.state===t.RESOLVED?--s:(f.dependents.push(u),o=!1))}o&&!s&&m(e,r)},m=function(e,t){var n=[],r=0,i;while(i=e[r++])n.push(i.exports);t(n)},g=function(r,i){n.trackCircularDependencies&&(i=i.slice()).push(r),r.state=t.IN_RESOLVING;var s=!1;v(r.dependOnDecls,function(t){r.fn.apply({name:r.name,deps:r.deps,global:e},[function(e){return s?T(r):s=!0,y(r,e),e}].concat(t))},i)},y=function(e,n){e.exports=n,e.state=t.RESOLVED;var i=0,s;while(s=e.dependents[i++])s(e.exports);e.dependents=r},b=function(e,t){var n=0,r;while(r=t[n++])if(e===r)return!0;return!1},w=function(e){for(var t in e)e.hasOwnProperty(t)&&(n[t]=e[t])},E=function(e){N(function(){throw e})},S=function(e,t){E(Error(t?'Module "'+t.name+'": can\'t resolve dependence "'+e+'"':"Can't resolve required module \""+e+'"'))},x=function(e,t){var n=[],r=0,i;while(i=t[r++])n.push(i.name);n.push(e.name),E(Error('Circular dependence detected "'+n.join(" -> ")+'"'))},T=function(e){E(Error('Declaration of module "'+e.name+'" already provided'))},N=function(){var t=[],n=function(e){return t.push(e)===1},r=function(){var e=t,n=0,r=t.length;t=[];while(n<r)e[n++]()};if(typeof process=="object"&&process.nextTick)return function(e){n(e)&&process.nextTick(r)};if(e.setImmediate)return function(t){n(t)&&e.setImmediate(r)};if(e.postMessage){var i=!0;if(e.attachEvent){var s=function(){i=!1};e.attachEvent("onmessage",s),e.postMessage("__checkAsync","*"),e.detachEvent("onmessage",s)}if(i){var o="__modules"+ +(new Date),u=function(e){e.data===o&&(e.stopPropagation&&e.stopPropagation(),r())};return e.addEventListener?e.addEventListener("message",u,!0):e.attachEvent("onmessage",u),function(t){n(t)&&e.postMessage(o,"*")}}}var a=e.document;if("onreadystatechange"in a.createElement("script")){var f=function(){var e=a.createElement("script");e.onreadystatechange=function(){e.parentNode.removeChild(e),e=e.onreadystatechange=null,r()},(a.documentElement||a.body).appendChild(e)};return function(e){n(e)&&f()}}return function(e){n(e)&&setTimeout(r,0)}}(),C={define:a,require:f,isDefined:l,options:w};typeof exports=="object"?module.exports=C:e.modules=C})(this),modules.define("i-bem",["inherit","identify","next-tick","objects","functions","events","events__channels"],function(e,t,n,r,i,s,o,u){function c(e,t,n,r){return"__"+e+(r?"__elem_"+r:"")+"__mod"+(t?"_"+t:"")+(n?"_"+n:"")}function h(e,t,n,r){if(s.isFunction(t))n[c(e,"*","*",r)]=t;else{var i,o,u;for(i in t)if(t.hasOwnProperty(i)){u=t[i];if(s.isFunction(u))n[c(e,i,i==="js"?"inited":"*",r)]=u;else for(o in u)u.hasOwnProperty(o)&&(n[c(e,i,o,r)]=u[o])}}}function p(e,t){return t?Array.isArray(t)?function(n){var r=0,i=t.length;while(r<i)if(n.hasMod(e,t[r++]))return!0;return!1}:function(n){return n.hasMod(e,t)}:function(t){return t.hasMod(e)}}function d(e){e.beforeSetMod&&(h("before",e.beforeSetMod,e),delete e.beforeSetMod),e.onSetMod&&(h("after",e.onSetMod,e),delete e.onSetMod);var t;if(e.onBeforeElemSetMod){for(t in e.onBeforeElemSetMod)e.onBeforeElemSetMod.hasOwnProperty(t)&&h("before",e.onBeforeElemSetMod[t],e,t);delete e.onBeforeElemSetMod}if(e.onElemSetMod){for(t in e.onElemSetMod)e.onElemSetMod.hasOwnProperty(t)&&h("after",e.onElemSetMod[t],e,t);delete e.onElemSetMod}}var a,f=[],l={},v=t(o.Emitter,{__constructor:function(e,t,n){this._modCache=e||{},this._processingMods={},this._params=t,this.params=null,n!==!1?this._init():f.push(this._init,this)},_init:function(){return!this._initing&&!this.hasMod("js","inited")&&(this._initing=!0,this.params||(this.params=i.extend(this.getDefaultParams(),this._params),delete this._params),this.setMod("js","inited"),delete this._initing,this.hasMod("js","inited")&&this.trigger("init")),this},emit:function(e,t){return this.__base(e=this._buildEvent(e),t).__self.trigger(e,t),this},trigger:function(){return this.emit.apply(this,arguments)},_buildEvent:function(e){return typeof e=="string"?e=new o.Event(e,this):e.target||(e.target=this),e},hasMod:function(e,t,n){var r=arguments.length,i=!1;r===1?(n="",t=e,e=a,i=!0):r===2&&(typeof e=="string"?(n=t,t=e,e=a):(n="",i=!0));var s=this.getMod(e,t)===n;return i?!s:s},getMod:function(e,t){var n=typeof e;if(n==="string"||n==="undefined"){t=e||t;var r=this._modCache;return t in r?r[t]||"":r[t]=this._extractModVal(t)}return this._getElemMod(t,e)},_getElemMod:function(e,t,n){return this._extractModVal(e,t,n)},getMods:function(e){var t=e&&typeof e!="string",n=[].slice.call(arguments,t?1:0),r=this._extractMods(n,t?e:a);return t||(n.length?n.forEach(function(e){this._modCache[e]=r[e]},this):this._modCache=r),r},setMod:function(e,t,r){typeof r=="undefined"&&(typeof e=="string"?(r=typeof t=="undefined"?!0:t,t=e,e=a):r=!0);if(!e||e[0]){r===!1&&(r="");var i=(e&&e[0]?n(e[0]):"")+"_"+t;if(this._processingMods[i])return this;var s,o=e?this._getElemMod(t,e,s=this.__self._extractElemNameFrom(e)):this.getMod(t);if(o===r)return this;this._processingMods[i]=!0;var u=!0,f=[t,r,o];e&&f.unshift(e);var l=[["*","*"],[t,"*"],[t,r]],c=["before","after"],h=0,p,d,v;while(p=c[h++]){d=0;while(v=l[d++])if(this._callModFn(p,s,v[0],v[1],f)===!1){u=!1;break}if(!u)break;p==="before"&&(this._onSetMod(t,r,o,e,s),e||(this._modCache[t]=r))}this._processingMods[i]=null}return this},_onSetMod:function(e,t,n,r,i){},toggleMod:function(e,t,n,r,i){typeof e=="string"&&(i=r,r=n,n=t,t=e,e=a),typeof n=="undefined"&&(n=!0),typeof r=="undefined"?r="":typeof r=="boolean"&&(i=r,r="");var s=this.getMod(e,t);return(s===n||s===r)&&this.setMod(e,t,typeof i=="boolean"?i?n:r:this.hasMod(e,t,n)?r:n),this},delMod:function(e,t){return t||(t=e,e=a),this.setMod(e,t,"")},_callModFn:function(e,t,n,r,i){var s=c(e,n,r,t);return this[s]?this[s].apply(this,i):a},_extractModVal:function(e,t){return""},_extractMods:function(e,t){return{}},getDefaultParams:function(){return{}},_destruct:function(){this.delMod("js")},nextTick:function(e){var t=this;return r(function(){t.hasMod("js","inited")&&e.call(t)}),this},destruct:function(){},afterCurrentEvent:function(e,t){this.__self.afterCurrentEvent(this.changeThis(e,t))},channel:function(){return this.__self.channel.apply(null,arguments)},changeThis:function(e,t){return e.bind(t||this)}},{_name:"i-bem",blocks:l,decl:function(e,n,r){typeof e=="string"&&(e={block:e});if(e.baseBlock&&!l[e.baseBlock])throw'baseBlock "'+e.baseBlock+'" for "'+e.block+'" is undefined';d(n||(n={}));var o=l[e.baseBlock||e.block]||this;if(e.modName){var u=p(e.modName,e.modVal);i.each(n,function(e,t){s.isFunction(e)&&(n[t]=function(){var n;if(u(this))n=e;else{var r=o.prototype[t];r&&r!==e&&(n=this.__base)}return n?n.apply(this,arguments):a})})}if(r&&typeof r.live=="boolean"){var f=r.live;r.live=function(){return f}}var c,h=o;return e.baseMix&&(h=[h],e.baseMix.forEach(function(t){if(!l[t])throw'mix block "'+t+'" for "'+e.block+'" is undefined';h.push(l[t])})),e.block===o._name?(c=t.self(h,n,r))._processLive(!0):(c=l[e.block]=t(h,n,r))._name=e.block,c},declMix:function(e,n,r){return d(n||(n={})),l[e]=t(n,r)},_processLive:function(e){return!1},create:function(e,t){return typeof e=="string"&&(e={block:e}),new l[e.block](e.mods,t)},getName:function(){return this._name},_extractElemNameFrom:function(e){},_runInitFns:function(){if(f.length){var e=f,t,n=0;f=[];while(t=e[n])t.call(e[n+1]),n+=2}},changeThis:function(e,t){return e.bind(t||this)},channel:function(){return u.apply(null,arguments)},afterCurrentEvent:function(e,t){r(t?e.bind(t):e)}});e(v)}),modules.define("inherit",function(e){function d(e){var t=i(e);if(l){var n,r=0;while(n=p[r++])e.hasOwnProperty(n)&&t.push(n)}return t}function v(e,n,r){var i=d(r),s=0,o=i.length,u,l;while(s<o){if((u=i[s++])==="__self")continue;l=r[u],a(l)&&(!t||l.toString().indexOf(".__base")>-1)?n[u]=function(t,n){var r=e[t]||f;return function(){var e=this.__base;this.__base=r;var t=n.apply(this,arguments);return this.__base=e,t}}(u,l):n[u]=l}}function m(e,t){var n=1,r;while(r=e[n++])t?a(r)?g.self(t,r.prototype,r):g.self(t,r):t=a(r)?g(e[0],r.prototype,r):g(e[0],r);return t||e[0]}var t=function(){"_";}.toString().indexOf("_")>-1,n=function(){},r=Object.create||function(e){var t=function(){};return t.prototype=e,new t},i=Object.keys||function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t},s=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},o=Object.prototype.toString,u=Array.isArray||function(e){return o.call(e)==="[object Array]"},a=function(e){return o.call(e)==="[object Function]"},f=function(){},l=!0,c={toString:""};for(var h in c)c.hasOwnProperty(h)&&(l=!1);var p=l?["toString","valueOf"]:null,g=function(){var e=arguments,t=u(e[0]),i=t||a(e[0]),o=i?t?m(e[0]):e[0]:n,f=e[i?1:0]||{},l=e[i?2:1],c=f.__constructor||i&&o.prototype.__constructor?function(){return this.__constructor.apply(this,arguments)}:function(){};if(!i)return c.prototype=f,c.prototype.__self=c.prototype.constructor=c,s(c,l);s(c,o);var h=o.prototype,p=c.prototype=r(h);return p.__self=p.constructor=c,f&&v(h,p,f),l&&v(o,c,l),c};g.self=function(){var e=arguments,t=u(e[0]),n=t?m(e[0],e[0][0]):e[0],r=e[1],i=e[2],s=n.prototype;return r&&v(s,s,r),i&&v(n,n,i),n},e(g)}),modules.define("identify",function(e){var t=0,n="__"+ +(new Date),r=function(){return"uniq"+ ++t};e(function(e,t){if(!e)return r();var i="uniqueID"in e?"uniqueID":n;return t||i in e?e[i]:e[i]=r()})}),modules.define("next-tick",function(e){var t=this.global,n=[],r=function(e){return n.push(e)===1},i=function(){var e=n,t=0,r=n.length;n=[];while(t<r)e[t++]()};if(typeof process=="object"&&process.nextTick)return e(function(e){r(e)&&process.nextTick(i)});if(t.setImmediate)return e(function(e){r(e)&&t.setImmediate(i)});if(t.postMessage){var s=!0;if(t.attachEvent){var o=function(){s=!1};t.attachEvent("onmessage",o),t.postMessage("__checkAsync","*"),t.detachEvent("onmessage",o)}if(s){var u="__nextTick"+ +(new Date),a=function(e){e.data===u&&(e.stopPropagation&&e.stopPropagation(),i())};return t.addEventListener?t.addEventListener("message",a,!0):t.attachEvent("onmessage",a),e(function(e){r(e)&&t.postMessage(u,"*")})}}var f=t.document;if("onreadystatechange"in f.createElement("script")){var l=function(){var e=f.createElement("script");e.onreadystatechange=function(){e.parentNode.removeChild(e),e=e.onreadystatechange=null,i()},(f.documentElement||f.body).appendChild(e)};return e(function(e){r(e)&&l()})}e(function(e){r(e)&&t.setTimeout(i,0)})}),modules.define("objects",function(e){var t=Object.prototype.hasOwnProperty;e({extend:function(e,n){typeof e!="object"&&(e={});for(var r=1,i=arguments.length;r<i;r++){var s=arguments[r];if(s)for(var o in s)t.call(s,o)&&(e[o]=s[o])}return e},isEmpty:function(e){for(var n in e)if(t.call(e,n))return!1;return!0},each:function(e,n,r){for(var i in e)t.call(e,i)&&(r?n.call(r,e[i],i):n(e[i],i))}})}),modules.define("functions",function(e){var t=Object.prototype.toString;e({isFunction:function(e){return t.call(e)==="[object Function]"},noop:function(){}})}),modules.define("events",["identify","inherit","functions"],function(e,t,n,r){var i,s="__"+ +(new Date)+"storage",o=function(e,n){return t(e)+(n?t(n):"")},u=n({__constructor:function(e,t){this.type=e,this.target=t,this.result=i,this.data=i,this._isDefaultPrevented=!1,this._isPropagationStopped=!1},preventDefault:function(){this._isDefaultPrevented=!0},isDefaultPrevented:function(){return this._isDefaultPrevented},stopPropagation:function(){this._isPropagationStopped=!0},isPropagationStopped:function(){return this._isPropagationStopped}}),a={on:function(e,t,n,u,a){if(typeof e=="string"){r.isFunction(t)&&(u=n,n=t,t=i);var f=o(n,u),l=this[s]||(this[s]={}),c=e.split(" "),h,p=0,d,v,m;while(h=c[p++])m=l[h]||(l[h]={ids:{},list:{}}),f in m.ids||(d=m.list,v={fn:n,data:t,ctx:u,special:a},d.last?(d.last.next=v,v.prev=d.last):d.first=v,m.ids[f]=d.last=v)}else for(var g in e)e.hasOwnProperty(g)&&this.on(g,e[g],t,a);return this},once:function(e,t,n,r){return this.on(e,t,n,r,{once:!0})},un:function(e,t,n){if(typeof e=="string"||typeof e=="undefined"){var r=this[s];if(r)if(e){var i=e.split(" "),u=0,a;while(e=i[u++])if(a=r[e])if(t){var f=o(t,n),l=a.ids;if(f in l){var c=a.list,h=l[f],p=h.prev,d=h.next;p?p.next=d:h===c.first&&(c.first=d),d?d.prev=p:h===c.last&&(c.last=p),delete l[f]}}else delete this[s][e]}else delete this[s]}else for(var v in e)e.hasOwnProperty(v)&&this.un(v,e[v],t);return this},emit:function(e,t){var n=this[s],r=!1;if(n){var i=[typeof e=="string"?e:e.type,"*"],o=0,a,f;while(a=i[o++])if(f=n[a]){var l=f.list.first,c=f.list.last,h;while(l){r||(r=!0,typeof e=="string"&&(e=new u(e)),e.target||(e.target=this)),e.data=l.data,h=l.fn.apply(l.ctx||this,arguments),typeof h!="undefined"&&(e.result=h,h===!1&&(e.preventDefault(),e.stopPropagation())),l.special&&l.special.once&&this.un(e.type,l.fn,l.ctx);if(l===c)break;l=l.next}}}return this}};a.trigger=a.emit,a.onFirst=a.once;var f=n(a,a);e({Emitter:f,Event:u})}),modules.define("events__channels",["events"],function(e,t){var n,r={};e(function(e,i){typeof e=="boolean"&&(i=e,e=n),e||(e="default");if(i){r[e]&&(r[e].un(),delete r[e]);return}return r[e]||(r[e]=new t.Emitter)})}),Object.keys||(Object.keys=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t}),function(){var e=Array.prototype,t=Object.prototype.toString,n={indexOf:function(e,t){t=+(t||0);var n=this,r=n.length;if(r>0&&t<r){t=t<0?Math.ceil(t):Math.floor(t),t<-r&&(t=0),t<0&&(t+=r);while(t<r){if(t in n&&n[t]===e)return t;++t}}return-1},forEach:function(e,t){var n=-1,r=this,i=r.length;while(++n<i)n in r&&(t?e.call(t,r[n],n,r):e(r[n],n,r))},map:function(e,t){var n=-1,r=this,i=r.length,s=new Array(i);while(++n<i)n in r&&(s[n]=t?e.call(t,r[n],n,r):e(r[n],n,r));return s},filter:function(e,t){var n=-1,r=this,i=r.length,s=[];while(++n<i)n in r&&(t?e.call(t,r[n],n,r):e(r[n],n,r))&&s.push(r[n]);return s},reduce:function(e,t){var n=-1,r=this,i=r.length,s;if(arguments.length<2){while(++n<i)if(n in r){s=r[n];break}}else s=t;while(++n<i)n in r&&(s=e(s,r[n],n,r));return s},some:function(e,t){var n=-1,r=this,i=r.length;while(++n<i)if(n in r&&(t?e.call(t,r[n],n,r):e(r[n],n,r)))return!0;return!1},every:function(e,t){var n=-1,r=this,i=r.length;while(++n<i)if(n in r&&(t?!e.call(t,r[n],n,r):!e(r[n],n,r)))return!1;return!0}};for(var r in n)e[r]||(e[r]=n[r]);Array.isArray||(Array.isArray=function(e){return t.call(e)==="[object Array]"})}(),function(){var e=Array.prototype.slice;Function.prototype.bind||(Function.prototype.bind=function(t){var n=this,r=e.call(arguments,1);return function(){return n.apply(t,r.concat(e.call(arguments)))}})}(),modules.define("i-bem__dom",["i-bem","i-bem__internal","identify","objects","functions","jquery","dom"],function(e,t,n,r,i,s,o,u){function C(e,t){var n=e[0],r=O(n),s,o;for(s in r)if(r.hasOwnProperty(s)){o=r[s],L(o,n,s,t);var u=h[o.uniqId];u?u.domElem.index(n)<0&&(u.domElem=u.domElem.add(e),i.extend(u._params,o)):k(s,e,o)}}function k(e,t,n,r,i){typeof n=="boolean"&&(i=r,r=n,n=a);var s=t[0];n=L(n||O(s)[e],s,e);var u=n.uniqId;if(h[u])return h[u]._init();c[u]=c[u]?c[u].add(t):t;var f=s.parentNode;(!f||f.nodeType===11)&&o.unique(c[u]);var l=m[e]||P.decl(e,{},{live:!0});if(!(l._liveInitable=!!l._processLive())||r||n.live===!1){r&&t.addClass(g);var p=new l(c[u],n,!!r);return delete c[u],i&&i.apply(p,Array.prototype.slice.call(arguments,4)),p}}function L(e,t,n,i){(e||(e={})).uniqId||(e.uniqId=(e.id?n+"-id-"+e.id:r())+(i||r()));var s=r(t),o=p[s]||(p[s]={});return o[n]||(o[n]=e),e}function A(e,t,n){var r=e.find(t);return n?r:r.add(e.filter(t))}function O(e){var t=r(e);return p[t]||(p[t]=M(e))}function M(e){var t=e.getAttribute(b);return t?JSON.parse(t):{}}function _(e){delete p[r(e)]}function D(e,t){e.domElem.length===1?e._destruct(!0):e.domElem=e.domElem.not(t)}var a,f=o(window),l=o(document),c={},h={},p={},d={},v={},m=t.blocks,g="i-bem",y="."+g,b="data-bem",w=n.NAME_PATTERN,E=n.MOD_DELIM,S=n.ELEM_DELIM,x=RegExp("[^"+E+"]"+E+"("+w+")"+"(?:"+E+"("+w+"))?$"),T=n.buildModPostfix,N=n.buildClass,P=t.decl("i-bem__dom",{__constructor:function(e,t,n){this.domElem=e,this._eventNameCache={},this._elemCache={},h[this._uniqId=t.uniqId||r(this)]=this,this._needSpecialUnbind=!1,this.__base(null,t,n)},findBlocksInside:function(e,t){return this._findBlocks("find",e,t)},findBlockInside:function(e,t){return this._findBlocks("find",e,t,!0)},findBlocksOutside:function(e,t){return this._findBlocks("parents",e,t)},findBlockOutside:function(e,t){return this._findBlocks("closest",e,t)[0]||null},findBlocksOn:function(e,t){return this._findBlocks("",e,t)},findBlockOn:function(e,t){return this._findBlocks("",e,t,!0)},_findBlocks:function(e,t,n,r){n||(n=t,t=a);var i=t?typeof t=="string"?this.findElem(t):t:this.domElem,s=typeof n=="string",u=s?n:n.block||n.blockName,f="."+(s?N(u):N(u,n.modName,n.modVal))+(r?":first":""),l=i.filter(f);e&&(l=l.add(i[e](f)));if(r)return l[0]?k(u,l.eq(0),!0):null;var c=[],h={};return l.each(function(e,t){var n=k(u,o(t),!0);h[n._uniqId]||(h[n._uniqId]=!0,c.push(n))}),c},bindToDomElem:function(e,t,n){return n?e.bind(this._buildEventName(t),o.proxy(n,this)):i.each(t,function(t,n){this.bindToDomElem(e,n,t)},this),this},bindToDoc:function(e,t){return this._needSpecialUnbind=!0,this.bindToDomElem(l,e,t)},bindToWin:function(e,t){return this._needSpecialUnbind=!0,this.bindToDomElem(f,e,t)},bindTo:function(e,t,n){return!t||s.isFunction(t)?(n=t,t=e,e=this.domElem):typeof e=="string"&&(e=this.elem(e)),this.bindToDomElem(e,t,n)},unbindFromDomElem:function(e,t,n){return t=this._buildEventName(t),n?e.unbind(t,n):e.unbind(t),this},unbindFromDoc:function(e,t){return this.unbindFromDomElem(l,e,t)},unbindFromWin:function(e,t){return this.unbindFromDomElem(f,e,t)},unbindFrom:function(e,t,n){var r=arguments.length;return r===1?(t=e,e=this.domElem):r===2&&s.isFunction(t)?(n=t,t=e,e=this.domElem):typeof e=="string"&&(e=this.elem(e)),this.unbindFromDomElem(e,t,n)},_buildEventName:function(e){return e.indexOf(" ")>1?e.split(" ").map(function(e){return this._buildOneEventName(e)},this).join(" "):this._buildOneEventName(e)},_buildOneEventName:function(e){var t=this._eventNameCache;if(e in t)return t[e];var n="."+this._uniqId;if(e.indexOf(".")<0)return t[e]=e+n;var r=".bem_"+this.__self._name;return t[e]=e.split(".").map(function(e,t){return t===0?e+r:r+"_"+e}).join("")+n},emit:function(e,t){return this.__base(e=this._buildEvent(e),t).domElem&&this._ctxEmit(e,t),this},_ctxEmit:function(e,t){var n=this,s=d[n.__self._buildCtxEventName(e.type)],o={};s&&n.domElem.each(function(){var u=this,a=s.counter;while(u&&a){var f=r(u,!0);if(f){if(o[f])break;var l=s.ctxs[f];l&&(i.each(l,function(r){r.fn.call(r.ctx||n,e,t)}),a--),o[f]=!0}u=u.parentNode}})},setMod:function(e,t,n){if(e&&typeof n!="undefined"&&e.length>1){var r=this;return e.each(function(){var i=o(this);i.__bemElemName=e.__bemElemName,r.setMod(i,t,n)}),r}return this.__base(e,t,n)},_extractModVal:function(e,t,n){var r=(t||this.domElem)[0],i;return r&&(i=r.className.match(this.__self._buildModValRE(e,n||t))),i?i[2]||!0:""},_extractMods:function(e,t){var n={},r=!e.length,i=0;return((t||this.domElem)[0].className.match(this.__self._buildModValRE("("+(r?w:e.join("|"))+")",t,"g"))||[]).forEach(function(e){var t=e.match(x);n[t[1]]=t[2]||!0,++i}),i<e.length&&e.forEach(function(e){e in n||(n[e]="")}),n},_onSetMod:function(e,t,n,r,i){if(!r&&e==="js"&&t==="")return;var s=this.__self,u=s._buildModClassPrefix(e,i),a=s._buildModValRE(e,i),f=t===""||t===!1;(r||this.domElem).each(function(){var e=this.className,r=u;t!==!0&&(r+=E+t),(n===!0?a.test(e):e.indexOf(u+E)>-1)?this.className=e.replace(a,f?"":"$1"+r):f||o(this).addClass(r)}),i&&this.dropElemCache(i,e,n).dropElemCache(i,e,t)},findElem:function(e,t,n,r,i){typeof e=="string"&&(i=r,r=n,n=t,t=e,e=this.domElem),typeof n=="boolean"&&(i=n,n=a);var s=this.__self,u="."+t.split(" ").map(function(e){return N(s._name,e,n,r)}).join(",."),f=A(e,u);if(!i)return f;var l=this.buildSelector(),c=this.domElem;return f.filter(function(){return c.index(o(this).closest(l))>-1})},_elem:function(e,t,n){var r=e+T(t,n),i;return(i=this._elemCache[r])||(i=this._elemCache[r]=this.findElem(e,t,n),i.__bemElemName=e),i},elem:function(e,t,n){if(t&&typeof t!="string")return t.__bemElemName=e,t;if(e.indexOf(" ")<0)return this._elem(e,t,n);var r=o([]);return e.split(" ").forEach(function(e){r=r.add(this._elem(e,t,n))},this),r},dropElemCache:function(e,t,n){if(e){var r=T(t,n);e.indexOf(" ")<0?delete this._elemCache[e+r]:e.split(" ").forEach(function(e){delete this._elemCache[e+r]},this)}else this._elemCache={};return this},elemParams:function(e){var t;return typeof e=="string"?(t=e,e=this.elem(e)):t=this.__self._extractElemNameFrom(e),M(e[0])[N(this.__self.getName(),t)]||{}},elemify:function(e,t){return(e=o(e)).__bemElemName=t,e},containsDomElem:function(e,t){return arguments.length===1&&(t=e,e=this.domElem),u.contains(e,t)},buildSelector:function(e,t,n){return this.__self.buildSelector(e,t,n)},_destruct:function(){this.destruct();var e=this,t=e.__self;e._isDestructing=!0,e._needSpecialUnbind&&t.doc.add(t.win).unbind("."+e._uniqId),e.dropElemCache().domElem.each(function(e,t){var n=O(t);i.each(n,function(e,r){var i=h[e.uniqId];i?i._isDestructing||(D(i,t),delete n[r]):delete c[e.uniqId]}),i.isEmpty(n)&&_(t)}),e.domElem.remove(),e.__base(),delete h[e.un()._uniqId],delete e.domElem,delete e._elemCache}},{scope:null,doc:l,win:f,_processLive:function(e){var t=this._liveInitable;if("live"in this){var n=typeof t=="undefined";n^e&&(t=this.live()!==!1,this.live=s.noop)}return t},init:function(e){e||(e=P.scope);var t=r();return A(e,y).each(function(){C(o(this),t)}),this._runInitFns(),e},destruct:function(e,t){A(e,y,t).each(function(e,t){var n=O(this);i.each(n,function(e,r){if(e.uniqId){var i=h[e.uniqId];i?(D(i,t),delete n[r]):delete c[e.uniqId]}}),i.isEmpty(n)&&_(this)}),t?e.empty():e.remove()},update:function(e,t){this.destruct(e,!0),this.init(e.html(t))},replace:function(e,t){var n=e.prev(),r=e.parent();this.destruct(e),this.init(n.length?o(t).insertAfter(n):o(t).prependTo(r))},append:function(e,t){this.init(o(t).appendTo(e))},prepend:function(e,t){this.init(o(t).prependTo(e))},before:function(e,t){this.init(o(t).insertBefore(e))},after:function(e,t){this.init(o(t).insertAfter(e))},_buildCtxEventName:function(e){return this._name+":"+e},_liveClassBind:function(e,t,n,i){if(t.indexOf(" ")>-1)t.split(" ").forEach(function(t){this._liveClassBind(e,t,n,i)},this);else{var s=v[t],o=r(n);s||(s=v[t]={},P.scope.bind(t,this._liveClassTrigger.bind(this))),s=s[e]||(s[e]={uniqIds:{},fns:[]}),o in s.uniqIds||(s.fns.push({uniqId:o,fn:this._buildLiveEventFn(n,i)}),s.uniqIds[o]=s.fns.length-1)}return this},_liveClassUnbind:function(e,t,n){var i=v[t];if(i)if(n){if(i=i[e]){var s=r(n);if(s in i.uniqIds){var o=i.uniqIds[s],u=i.fns.length-1;i.fns.splice(o,1);while(o<u)i.uniqIds[i.fns[o++].uniqId]=o-1;delete i.uniqIds[s]}}}else delete i[e];return this},_liveClassTrigger:function(e){var t=v[e.type];if(t){var n=e.target,r=[];for(var i in t)t.hasOwnProperty(i)&&r.push(i);do{var s=" "+n.className+" ",u=0;while(i=r[u++])if(s.indexOf(" "+i+" ")>-1){var a=0,f=t[i].fns,l,c=!1;while(l=f[a++])l.fn.call(o(n),e)===!1&&(c=!0);c&&e.preventDefault();if(c||e.isPropagationStopped())return;r.splice(--u,1)}}while(r.length&&(n=n.parentNode))}},_buildLiveEventFn:function(e,t){var n=this;return function(r){r.currentTarget=this;var i=[n._name,o(this).closest(n.buildSelector()),!0],s=k.apply(null,t?i.concat([e,r]):i);if(s&&!t&&e)return e.apply(s,arguments)}},liveInitOnEvent:function(e,t,n){return this.liveBindTo(e,t,n,!0)},liveBindTo:function(e,t,n,r){if(!t||s.isFunction(t))n=t,t=e,e=a;if(!e||typeof e=="string")e={elem:e};return e.elem&&e.elem.indexOf(" ")>0?(e.elem.split(" ").forEach(function(i){this._liveClassBind(N(this._name,i,e.modName,e.modVal),t,n,r)},this),this):this._liveClassBind(N(this._name,e.elem,e.modName,e.modVal),t,n,r)},liveUnbindFrom:function(e,t,n){return e.indexOf(" ")>1?(e.split(" ").forEach(function(e){this._liveClassUnbind(N(this._name,e),t,n)},this),this):this._liveClassUnbind(N(this._name,e),t,n)},_liveInitOnBlockEvent:function(e,t,n,r){var i=this._name;return m[t].on(e,function(e){var t=arguments,s=e.target[r](i);n&&s.forEach(function(e){n.apply(e,t)})}),this},liveInitOnBlockEvent:function(e,t,n){return this._liveInitOnBlockEvent(e,t,n,"findBlocksOn")},liveInitOnBlockInsideEvent:function(e,t,n){return this._liveInitOnBlockEvent(e,t,n,"findBlocksOutside")},on:function(e,t,n,r,i){return e.jquery?this._liveCtxBind(e,t,n,r,i):this.__base(e,t,n,r)},un:function(e,t,n,r){return e.jquery?this._liveCtxUnbind(e,t,n,r):this.__base(e,t,n)},_liveCtxBind:function(e,t,n,o,u){if(typeof t=="string"){s.isFunction(n)&&(u=o,o=n,n=a);if(t.indexOf(" ")>-1)t.split(" ").forEach(function(t){this._liveCtxBind(e,t,n,o,u)},this);else{var f=this._buildCtxEventName(t),l=d[f]||(d[f]={counter:0,ctxs:{}});e.each(function(){var e=r(this),t=l.ctxs[e];t||(t=l.ctxs[e]={},++l.counter),t[r(o)+(u?r(u):"")]={fn:o,data:n,ctx:u}})}}else i.each(t,function(t,r){this._liveCtxBind(e,r,t,n)},this);return this},_liveCtxUnbind:function(e,t,n,s){var o=d[t=this._buildCtxEventName(t)];return o&&(e.each(function(){var e=r(this,!0),t;if(e&&(t=o.ctxs[e])){n&&delete t[r(n)+(s?r(s):"")];if(!n||i.isEmpty(t))o.counter--,delete o.ctxs[e]}}),o.counter||delete d[t]),this},_extractElemNameFrom:function(e){if(e.__bemElemName)return e.__bemElemName;var t=e[0].className.match(this._buildElemNameRE());return t?t[1]:a},extractParams:M,_buildModClassPrefix:function(e,t){return N(this._name)+(t?S+(typeof t=="string"?t:this._extractElemNameFrom(t)):"")+E+e},_buildModValRE:function(e,t,n){return new RegExp("(\\s|^)"+this._buildModClassPrefix(e,t)+"(?:"+E+"("+w+"))?(?=\\s|$)",n)},_buildElemNameRE:function(){return new RegExp(this._name+S+"("+w+")(?:\\s|$)")},buildSelector:function(e,t,n){return"."+N(this._name,e,t,n)}});o.fn.bem=function(e,t){return k(e,this,t,!0)},o(function(){P.scope=o("body")}),e(P)}),modules.define("jquery",["loader_type_js","jquery__config"],function(e,t,n){function r(){e(jQuery.noConflict(!0))}typeof jQuery!="undefined"?r():t(n.url,r)}),modules.define("loader_type_js",function(e){var t={},n={},r=document.getElementsByTagName("head")[0],i=function(e){n[e]=!0;var r=t[e],i,s=0;delete t[e];while(i=r[s++])i()};e(function(e,s){if(n[e]){s();return}if(t[e]){t[e].push(s);return}t[e]=[s];var o=document.createElement("script");o.type="text/javascript",o.charset="utf-8",o.src=(location.protocol==="file:"&&!e.indexOf("//")?"http:":"")+e,o.onreadystatechange===null?o.onreadystatechange=function(){var t=this.readyState;if(t==="loaded"||t==="complete")o.onreadystatechange=null,i(e)}:o.onload=o.onerror=function(){o.onload=o.onerror=null,i(e)},r.insertBefore(o,r.lastChild)})}),modules.define("jquery__config",function(e){e({url:"//yandex.st/jquery/1.10.2/jquery.min.js"})}),modules.define("dom",["jquery"],function(e,t){e({contains:function(e,t){var n=!1;return t.each(function(){var t=this;do if(~e.index(t))return!(n=!0);while(t=t.parentNode);return n}),n},getFocused:function(){try{return t(document.activeElement)}catch(e){}},containsFocus:function(e){return this.contains(e,this.getFocused())},isFocusable:function(e){var t=e[0];if(!t)return!1;switch(t.tagName.toLowerCase()){case"iframe":return!0;case"input":case"button":case"textarea":case"select":return!t.disabled;case"a":return!!t.href;default:return t.hasAttribute("tabindex")}},isEditable:function(e){var t=e[0];if(!t)return!1;switch(t.tagName.toLowerCase()){case"input":var n=t.type;return(n==="text"||n==="password")&&!t.disabled&&!t.readOnly;case"textarea":return!t.disabled&&!t.readOnly;default:return t.contentEditable==="true"}}})}),modules.define("i-bem__internal",function(e){function s(e){var t=typeof e;return t==="string"||t==="number"||t==="boolean"}function o(e,t){var r="";return t!=null&&t!==!1&&(r+=n+e,t!==!0&&(r+=n+t)),r}function u(e,t,n){return e+o(t,n)}function a(e,n,i,s){return u(e,t,t)+r+n+o(i,s)}var t,n="_",r="__",i="[a-zA-Z0-9-]+";e({NAME_PATTERN:i,MOD_DELIM:n,ELEM_DELIM:r,buildModPostfix:o,buildClass:function(e,n,r,i){return s(r)?s(i)||(i=r,r=n,n=t):typeof r!="undefined"?r=t:n&&typeof n!="string"&&(n=t),!n&&!r?e:n?a(e,n,r,i):u(e,r,i)},buildClasses:function(e,n,r){n&&typeof n!="string"&&(r=n,n=t);var i=n?a(e,n,t,t):u(e,t,t);if(r)for(var s in r)r.hasOwnProperty(s)&&r[s]&&(i+=" "+(n?a(e,n,s,r[s]):u(e,s,r[s])));return i}})}),function(){String.prototype.trim||(String.prototype.trim=function(){var e=this.replace(/^\s\s*/,""),t=/\s/,n=e.length;while(t.test(e.charAt(--n)));return e.slice(0,n+1)})}(),function(e){if(window.JSON)return;var t=Object.prototype.toString,n=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,r={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},i;window.JSON={stringify:i=function(s){if(s===null)return"null";if(typeof s=="undefined")return e;var o,u,a;switch(t.call(s)){case"[object String]":return n.lastIndex=0,'"'+(n.test(s)?s.replace(n,function(e){var t=r[e];return typeof t=="string"?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}):s)+'"';case"[object Number]":case"[object Boolean]":return""+s;case"[object Array]":o="[",u=0;var f=s.length;while(u<f)a=i(s[u]),o+=(u++?",":"")+(typeof a=="undefined"?"null":a);return o+"]";case"[object Object]":if(t.call(s.toJSON)==="[object Function]")return i(s.toJSON());o="{",u=0;for(var l in s)s.hasOwnProperty(l)&&(a=i(s[l]),typeof a!="undefined"&&(o+=(u++?",":"")+'"'+l+'":'+a));return o+"}";default:return e}},parse:function(e){return Function("return "+e)()}}}(),modules.require(["i-bem__dom","jquery"],function(e,t){t(function(){e.init()})}),modules.define("ua",function(e){var t=navigator.userAgent.toLowerCase(),n=/(chrome)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[],r={browser:n[1]||"",version:n[2]||"0"},i={};r.browser&&(i[r.browser]=!0,i.version=r.version),i.chrome?i.webkit=!0:i.webkit&&(i.safari=!0),e(i)}),modules.define("i-bem__dom",["jquery","dom"],function(e,t,n,r){var i;r.decl("radio",{beforeSetMod:{focused:{"true":function(){return!this.hasMod("disabled")}}},onSetMod:{js:{inited:function(){var e=this.findBlockInside({block:"radio-option",modName:"checked",modVal:!0});this._inSetVal=!1,this._val=e?e.getVal():i,this._options=i}},disabled:function(e,t){this.getOptions().forEach(function(n){n.setMod(e,t)})},focused:{"true":function(){if(n.containsFocus(this.domElem))return;var e=this.getOptions(),t=0,r;while(r=e[t++])if(!r.hasMod("disabled")){r.setMod("focused");return}},"":function(){var e=this.findBlockInside({block:"radio-option",modName:"focused",modVal:!0});e&&e.delMod("focused")}}},getVal:function(){return this._val},setVal:function(e,t){this._inSetVal=!0,e=String(e);if(this._val!==e){var n=this._getOptionByVal(e);n&&(this._val!==i&&this.getCheckedOption().delMod("checked"),this._val=n.getVal(),n.setMod("checked"),this.emit("change",t))}return this._inSetVal=!1,this},getName:function(){return this.getOptions()[0].getName()},getOptions:function(){return this._options||(this._options=this.findBlocksInside("radio-option"))},getCheckedOption:function(){return this._getOptionByVal(this._val)},_onOptionCheck:function(e){var t=e.getVal();this._inSetVal||(this._val===t?(this.getOptions().forEach(function(e){e.getVal()!==t&&e.delMod("checked")}),this.emit("change")):this.setVal(e.getVal()))},_getOptionByVal:function(e){var t=this.getOptions(),n=0,r;while(r=t[n++])if(r.getVal()===e)return r},_onFocus:function(){this.setMod("focused")},_onBlur:function(){this.delMod("focused")}},{live:function(){this.liveInitOnBlockInsideEvent("check","radio-option",function(e){this._onOptionCheck(e.target)}).liveBindTo("focusin",function(){this._onFocus()}).liveBindTo("focusout",function(){this._onBlur()})}}),e(r)}),modules.define("i-bem__dom",["jquery"],function(e,t,n){n.decl("radio-option",{beforeSetMod:{focused:{"true":function(){return!this.hasMod("disabled")}}},onSetMod:{js:{inited:function(){this._focused=!1}},checked:function(e,t){this.elem("control").prop(e,t),t&&this.emit("check")},disabled:function(e,t){this.elem("control").prop(e,t)},focused:{"true":function(){this._focused||this._focus(),this.emit("focus")},"":function(){this._focused&&this._blur(),this.emit("blur")}}},getVal:function(){return this.elem("control").val()},getName:function(){return this.elem("control").attr("name")},_focus:function(){this.elem("control").focus()},_blur:function(){this.elem("control").blur()},_onFocus:function(){this._focused=!0,this.setMod("focused")},_onBlur:function(){this._focused=!1,this.delMod("focused")},_onPointerClick:function(){this.hasMod("disabled")||this.setMod("checked")}},{live:function(){this.liveBindTo("focusin",function(){this._onFocus()}).liveBindTo("focusout",function(){this._onBlur()}).liveBindTo("pointerclick",function(){this._onPointerClick()})}}),e(n)}),function(){if(!window.HTMLElement)return!1;var e=["PointerDown","PointerUp","PointerMove","PointerOver","PointerOut","PointerCancel","PointerEnter","PointerLeave","pointerdown","pointerup","pointermove","pointerover","pointerout","pointercancel","pointerenter","pointerleave"],t="touch",n="pen",r="mouse",i={},s=function(e,i){var s;document.createEvent?(s=document.createEvent("MouseEvents"),s.initMouseEvent(i,!0,!0,window,1,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,null)):(s=document.createEventObject(),s.screenX=e.screenX,s.screenY=e.screenY,s.clientX=e.clientX,s.clientY=e.clientY,s.ctrlKey=e.ctrlKey,s.altKey=e.altKey,s.shiftKey=e.shiftKey,s.metaKey=e.metaKey,s.button=e.button),s.offsetX===undefined&&(e.offsetX!==undefined?(Object&&Object.defineProperty!==undefined&&(Object.defineProperty(s,"offsetX",{writable:!0}),Object.defineProperty(s,"offsetY",{writable:!0})),s.offsetX=e.offsetX,s.offsetY=e.offsetY):e.layerX!==undefined&&(s.offsetX=e.layerX-e.currentTarget.offsetLeft,s.offsetY=e.layerY-e.currentTarget.offsetTop)),e.isPrimary!==undefined?s.isPrimary=e.isPrimary:s.isPrimary=!0;if(e.pressure)s.pressure=e.pressure;else{var o=0;e.which!==undefined?o=e.which:e.button!==undefined&&(o=e.button),s.pressure=o==0?0:.5}e.rotation?s.rotation=e.rotation:s.rotation=0,e.hwTimestamp?s.hwTimestamp=e.hwTimestamp:s.hwTimestamp=0,e.tiltX?s.tiltX=e.tiltX:s.tiltX=0,e.tiltY?s.tiltY=e.tiltY:s.tiltY=0,e.height?s.height=e.height:s.height=0,e.width?s.width=e.width:s.width=0,s.preventDefault=function(){e.preventDefault!==undefined&&e.preventDefault()};if(s.stopPropagation!==undefined){var u=s.stopPropagation;s.stopPropagation=function(){e.stopPropagation!==undefined&&e.stopPropagation(),u.call(this)}}s.POINTER_TYPE_TOUCH=t,s.POINTER_TYPE_PEN=n,s.POINTER_TYPE_MOUSE=r,s.pointerId=e.pointerId,s.pointerType=e.pointerType;switch(s.pointerType){case 2:s.pointerType=s.POINTER_TYPE_TOUCH;break;case 3:s.pointerType=s.POINTER_TYPE_PEN;break;case 4:s.pointerType=s.POINTER_TYPE_MOUSE}e.currentTarget&&e.currentTarget.handjs_forcePreventDefault===!0&&s.preventDefault(),e.target?e.target.dispatchEvent(s):e.srcElement.fireEvent("on"+l(i),s)},o=function(e,t){e.button||(e.pointerId=1,e.pointerType=r,s(e,t))},u=function(e,n,r,i){var o=n.identifier+2;n.pointerId=o,n.pointerType=t,n.currentTarget=r,n.target=r,i.preventDefault!==undefined&&(n.preventDefault=function(){i.preventDefault()}),s(n,e)},a=function(e,t,n,r){n.__handjsGlobalRegisteredEvents&&n.__handjsGlobalRegisteredEvents[e]&&u(e,t,n,r)},f=function(e,t,n,r){e.preventManipulation&&e.preventManipulation();for(var s=0;s<e.changedTouches.length;++s){var o=e.changedTouches[s];n&&(i[o.identifier]=o.target),r?a(t,o,i[o.identifier],e):u(t,o,i[o.identifier],e)}},l=function(e){return e.toLowerCase().replace("pointer","mouse")},c=function(t,n,r){var i;if(r==r.toLowerCase()){var s=e.indexOf(r)-e.length/2;i=n+e[s]}else i=n+r;return i===n+"PointerEnter"&&t["on"+n.toLowerCase()+"pointerenter"]===undefined&&(i=n+"PointerOver"),i===n+"PointerLeave"&&t["on"+n.toLowerCase()+"pointerleave"]===undefined&&(i=n+"PointerOut"),i},h=function(e,t,n,r){e.__handjsRegisteredEvents===undefined&&(e.__handjsRegisteredEvents=[]);if(r){if(e.__handjsRegisteredEvents[t]!==undefined){e.__handjsRegisteredEvents[t]++;return}e.__handjsRegisteredEvents[t]=1,e.addEventListener(t,n,!1)}else{if(e.__handjsRegisteredEvents.indexOf(t)!==-1){e.__handjsRegisteredEvents[t]--;if(e.__handjsRegisteredEvents[t]!=0)return}e.removeEventListener(t,n),e.__handjsRegisteredEvents[t]=0}},p=function(e,t,n){if(e.onpointerdown!==undefined)return;if(e.onmspointerdown!==undefined){var r=c(e,"MS",t);h(e,r,function(e){s(e,t)},n);return}if(e.ontouchstart!==undefined)switch(t){case"pointermove":h(e,"touchmove",function(e){f(e,t)},n);break;case"pointercancel":h(e,"touchcancel",function(e){f(e,t)},n);break;case"pointerdown":case"pointerup":case"pointerout":case"pointerover":case"pointerleave":case"pointerenter":e.__handjsGlobalRegisteredEvents||(e.__handjsGlobalRegisteredEvents=[]);if(n){if(e.__handjsGlobalRegisteredEvents[t]!==undefined){e.__handjsGlobalRegisteredEvents[t]++;return}e.__handjsGlobalRegisteredEvents[t]=1}else e.__handjsGlobalRegisteredEvents[t]!==undefined&&(e.__handjsGlobalRegisteredEvents[t]--,e.__handjsGlobalRegisteredEvents[t]<0&&(e.__handjsGlobalRegisteredEvents[t]=0))}switch(t){case"pointerdown":h(e,"mousedown",function(e){o(e,t)},n);break;case"pointermove":h(e,"mousemove",function(e){o(e,t)},n);break;case"pointerup":h(e,"mouseup",function(e){o(e,t)},n);break;case"pointerover":h(e,"mouseover",function(e){o(e,t)},n);break;case"pointerout":h(e,"mouseout",function(e){o(e,t)},n);break;case"pointerenter":e.onmouseenter===undefined?h(e,"mouseover",function(e){o(e,t)},n):h(e,"mouseenter",function(e){o(e,t)},n);break;case"pointerleave":e.onmouseleave===undefined?h(e,"mouseout",function(e){o(e,t)},n):h(e,"mouseleave",function(e){o(e,t)},n)}},d=function(t){var n=t.prototype?t.prototype.addEventListener:t.addEventListener,r=function(t,r,i){e.indexOf(t)!=-1&&p(this,t,!0),n===undefined?this.attachEvent("on"+l(t),r):n.call(this,t,r,i)};t.prototype?t.prototype.addEventListener=r:t.addEventListener=r},v=function(t){var n=t.prototype?t.prototype.removeEventListener:t.removeEventListener,r=function(t,r,i){e.indexOf(t)!=-1&&p(this,t,!1),n===undefined?this.detachEvent(l(t),r):n.call(this,t,r,i)};t.prototype?t.prototype.removeEventListener=r:t.removeEventListener=r};d(HTMLElement),d(document),d(HTMLBodyElement),d(HTMLDivElement),d(HTMLImageElement),d(HTMLUListElement),d(HTMLAnchorElement),d(HTMLLIElement),d(HTMLTableElement),window.HTMLSpanElement&&d(HTMLSpanElement),window.HTMLCanvasElement&&d(HTMLCanvasElement),window.SVGElement&&d(SVGElement),v(HTMLElement),v(document),v(HTMLBodyElement),v(HTMLDivElement),v(HTMLImageElement),v(HTMLUListElement),v(HTMLAnchorElement),v(HTMLLIElement),v(HTMLTableElement),window.HTMLSpanElement&&v(HTMLSpanElement),window.HTMLCanvasElement&&v(HTMLCanvasElement),window.SVGElement&&v(SVGElement),window.ontouchstart!==undefined&&(window.addEventListener("touchstart",function(e){for(var t=0;t<e.changedTouches.length;++t){var n=e.changedTouches[t];i[n.identifier]=n.target,a("pointerenter",n,n.target,e),a("pointerover",n,n.target,e),a("pointerdown",n,n.target,e)}}),window.addEventListener("touchend",function(e){for(var t=0;t<e.changedTouches.length;++t){var n=e.changedTouches[t],r=i[n.identifier];a("pointerup",n,r,e),a("pointerout",n,r,e),a("pointerleave",n,r,e)}}),window.addEventListener("touchmove",function(e){for(var t=0;t<e.changedTouches.length;++t){var n=e.changedTouches[t],r=document.elementFromPoint(n.clientX,n.clientY),s=i[n.identifier];if(s===r)continue;s&&(a("pointerout",n,s,e),s.contains(r)||a("pointerleave",n,s,e)),r&&(a("pointerover",n,r,e),r.contains(s)||a("pointerenter",n,r,e)),i[n.identifier]=r}})),navigator.pointerEnabled===undefined&&(navigator.pointerEnabled=!0,navigator.msPointerEnabled&&(navigator.maxTouchPoints=navigator.msMaxTouchPoints))}(),modules.define("jquery",function(e,t){var n=t.event.special.pointerclick={setup:function(){t(this).on("click",n.handler)},teardown:function(){t(this).off("click",n.handler)},handler:function(e){e.button||(e.type="pointerclick",t.event.dispatch.apply(this,arguments),e.type="click")}};e(t)}),modules.define("jquery",["ua"],function(e,t,n){var r=n.event.special.pointerdown={setup:function(){n(this).on("mousedown",r.handler)},teardown:function(){n(this).off("mousedown",r.handler)},handler:function(e){if(!e.button||t.msie&&t.version<9&&e.button===1)e.type="pointerdown",n.event.dispatch.apply(this,arguments),e.type="mousedown"}};e(n)}),modules.define("jquery",["ua"],function(e,t,n){var r=n.event.special.pointerup={setup:function(){n(this).on("mouseup",r.handler)},teardown:function(){n(this).off("mouseup",r.handler)},handler:function(e){if(!e.button||t.msie&&t.version<9&&e.button===1)e.type="pointerup",n.event.dispatch.apply(this,arguments),e.type="mouseup"}};e(n)}),modules.define("i-bem__dom",function(e,t){t.decl({block:"radio-option",modName:"type",modVal:"rating"},{_onMouseOver:function(){this.emit("hover",{value:this.getVal(),text:this.domElem.text()})}},{live:function(){this.__base(),this.liveBindTo({modName:"type",modVal:"rating"},"mouseover",function(){this._onMouseOver()})}}),e(t)}),modules.define("i-bem__dom",["jquery","dom"],function(e,t,n,r){r.decl({block:"rating",modName:"interactive"},{onSetMod:{js:{inited:function(){this._isWithHelpText()&&(this._helpText=this.elem("help-text").text()),this._value=this.getMod(this.elem("stars","showing",!0),"value")}}},_onRadioChange:function(e){var t=e.target.getVal()*10;this._setValue(t)._value=t,this._helpText=e.target.getCheckedOption().domElem.text()},_setValue:function(e){return this.setMod(this.elem("stars","showing",!0),"value",e),this},_setHelpText:function(e){this.elem("help-text").text(e)},_isWithHelpText:function(){return this._isWithHelp||(this._isWithHelp=this.hasMod("with-help"))}},{live:function(){this.liveInitOnBlockInsideEvent("change","radio",function(e){this._onRadioChange(e)})}}),e(r)}),modules.define("i-bem__dom",["jquery","dom"],function(e,t,n,r){r.decl({block:"rating",modName:"interactive"},{onSetMod:{js:{inited:function(){this.__base(),this.bindTo("control","mouseout",function(){this._setValue(this._value),this._isWithHelpText()&&this._setHelpText(this._helpText)},this)}}},_onRadioOptionHover:function(e,t){this._setValue(t.value*10),this._isWithHelpText()&&this._setHelpText(t.text)}},{live:function(){this.__base(),this.liveInitOnBlockInsideEvent("hover","radio-option",function(e,t){this._onRadioOptionHover(e,t)})}}),e(r)}),modules.define("i-bem__dom",["jquery","dom","events"],function(e,t,n,r,i){i.decl("button",{beforeSetMod:{focused:{"true":function(){return!this.hasMod("disabled")}},pressed:{"true":function(){return!this.hasMod("disabled")||this.hasMod("togglable")}},checked:function(){return this.hasMod("togglable")}},onSetMod:{js:{inited:function(){this._focused=!1}},focused:{"true":function(){this.bindToWin("unload",this._onUnload),this._focused||this._focus(),this.emit("focus")},"":function(){this.unbindFromWin("unload",this._onUnload),this._focused&&this._blur(),this.emit("blur")}},disabled:{"*":function(e,t){this.domElem.prop(e,!!t)},"true":function(){this.hasMod("togglable")||this.delMod("pressed")}},checked:function(e,t){this.setMod("pressed",t).trigger(t?"check":"uncheck")}},_onUnload:function(){this.delMod("focused")},_onFocus:function(){this._focused=!0,this.setMod("focused")},_onBlur:function(){this._focused=!1,this.delMod("focused")},_onPointerDown:function(){this.hasMod("disabled")||this.bindToDoc("pointerup",this._onPointerUp).setMod("pressed")},_onPointerUp:function(e){this.unbindFromDoc("pointerup",this._onPointerUp),this.hasMod("togglable")?n.contains(this.domElem,t(e.target))?this.getMod("togglable")==="check"?this.toggleMod("checked"):this.setMod("checked"):this.hasMod("checked")||this.delMod("pressed"):this.delMod("pressed")},_onPointerClick:function(e){this.hasMod("disabled")?e.preventDefault():this.trigger("click")},_focus:function(){this.domElem.focus()},_blur:function(){this.domElem.blur()}},{live:function(){this.liveBindTo("focusin",function(){this._onFocus()}).liveBindTo("focusout",function(){this._onBlur()}).liveBindTo("pointerdown",function(){this._onPointerDown()}).liveBindTo("pointerclick",function(e){this._onPointerClick(e)})}}),e(i)}),modules.define("i-bem__dom",["functions"],function(e,t,n){var r=32,i=13;n.decl("button",{beforeSetMod:{hovered:{"true":function(){return!this.hasMod("disabled")}}},onSetMod:{hovered:{"":function(){this.__base.apply(this,arguments),this.hasMod("togglable")||this.delMod("pressed")}},focused:{"true":function(){this.__base.apply(this,arguments),this.bindTo("keydown",this._onKeyDown)},"":function(){this.__base.apply(this,arguments),this.unbindFrom("keydown",this._onKeyDown)}},disabled:{"true":function(){this.__base.apply(this,arguments),this.delMod("hovered")}}},_onKeyDown:function(e){if(this.hasMod("disabled"))return;var t=e.keyCode;if((t===r||t===i)&&!this._keyDowned){this._keyDowned=!0;var n=function(){this._keyDowned=!1,this.unbindFrom("keyup",n),this.hasMod("togglable")||(this.delMod("pressed"),t===r&&this._doAction())};this.bindTo("keyup",n),this.hasMod("togglable")?this.getMod("togglable")==="check"?this.toggleMod("checked"):this.setMod("checked"):this.setMod("pressed")}},_doAction:t.noop},{live:function(){return this.liveBindTo("mouseover",function(){this.setMod("hovered")}).liveBindTo("mouseout",function(){this.delMod("hovered")}),this.__base.apply(this,arguments)}}),e(n)}),modules.define("i-bem__dom",[],function(e,t){t.decl("button",{onSetMod:{pressed:{"true":function(){}}}}),e(t)})